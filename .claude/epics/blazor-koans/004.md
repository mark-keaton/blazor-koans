---
name: Advanced Koans
status: closed
created: 2026-01-19T04:23:52Z
updated: 2026-01-19T04:23:52Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: true
conflicts_with: []
---

# Task: Advanced Koans

## Description
Create 16 advanced-level koans covering full-stack concepts: HTTP Clients, Authentication, State Management, and Error Handling. Implement mock services and providers needed for testing.

## Acceptance Criteria
- [ ] 4 koans for HTTP Clients (HttpClient injection, GET/POST, error handling)
- [ ] 4 koans for Authentication (AuthenticationStateProvider, AuthorizeView, [Authorize])
- [ ] 4 koans for State Management (CascadingValue, state containers, browser storage)
- [ ] 4 koans for Error Handling (ErrorBoundary, try-catch in lifecycle, logging)
- [ ] All tests have `[Trait("Category", "Advanced")]`
- [ ] Mock services work correctly in bunit tests
- [ ] All tests fail with placeholder values, pass with solutions

## Technical Details

### 09_HttpClients (4 koans)
| Koan | Concept | Placeholder |
|------|---------|-------------|
| A_InjectingHttpClient | HttpClient via DI | `"__"` |
| B_GetRequests | GetFromJsonAsync | `0` |
| C_PostRequests | PostAsJsonAsync | `false` |
| D_ErrorHandling | HttpRequestException handling | `"__"` |

### 10_Authentication (4 koans)
| Koan | Concept | Placeholder |
|------|---------|-------------|
| A_AuthenticationState | AuthenticationStateProvider | `false` |
| B_AuthorizeView | AuthorizeView component | `"__"` |
| C_AuthorizeAttribute | [Authorize] on pages | `false` |
| D_Roles | Role-based authorization | `"__"` |

### 11_StateManagement (4 koans)
| Koan | Concept | Placeholder |
|------|---------|-------------|
| A_CascadingValue | CascadingValue/Parameter | `"__"` |
| B_StateContainer | Shared state service | `0` |
| C_StateChanged | NotifyStateChanged pattern | `false` |
| D_BrowserStorage | localStorage/sessionStorage | `"__"` |

### 12_ErrorHandling (4 koans)
| Koan | Concept | Placeholder |
|------|---------|-------------|
| A_ErrorBoundary | ErrorBoundary component | `"__"` |
| B_LifecycleErrors | Try-catch in OnInitialized | `false` |
| C_RecoverFromError | ErrorBoundary.Recover() | `"__"` |
| D_Logging | ILogger injection | `0` |

### Mock Services to Create
```
src/BlazorKoans.App/Services/
├── IWeatherService.cs
├── WeatherService.cs          # Real implementation
├── FakeWeatherService.cs      # For bunit tests

tests/BlazorKoans.Tests/
├── Mocks/
│   ├── FakeAuthStateProvider.cs
│   ├── FakeHttpMessageHandler.cs
│   └── FakeLocalStorage.cs
```

### Components to Create
```
src/BlazorKoans.App/Components/Exercises/Advanced/
├── WeatherDisplay.razor
├── ApiDemo.razor
├── ProtectedPage.razor
├── LoginStatus.razor
├── ThemeProvider.razor
├── ShoppingCart.razor
├── ErrorDemo.razor
└── LoggingDemo.razor
```

## Dependencies
- [ ] Task 001 (Project Scaffolding) complete

## Effort Estimate
- Size: L
- Hours: 8
- Parallel: true (can run alongside tasks 002, 003)

## Definition of Done
- [ ] 16 koan tests written with proper structure
- [ ] All mock services and providers work in bunit
- [ ] Tests fail initially, pass with solutions
- [ ] `dotnet test --filter "Category=Advanced"` works

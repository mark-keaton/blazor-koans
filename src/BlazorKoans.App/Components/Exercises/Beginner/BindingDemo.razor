@* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘  ğŸ” OBSERVE                                                              â•‘
   â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
   â•‘  Type in the first input and watch the <p class="display"> update!       â•‘
   â•‘  This is TWO-WAY binding with @bind - data flows BOTH directions:        â•‘
   â•‘  â€¢ User types â†’ text variable updates                                    â•‘
   â•‘  â€¢ text changes â†’ input value updates                                    â•‘
   â•‘                                                                          â•‘
   â•‘  Notice THREE binding features:                                          â•‘
   â•‘  1. @bind="text"                 - Basic two-way binding                 â•‘
   â•‘  2. @bind:after="Method"         - Callback AFTER value changes          â•‘
   â•‘  3. @bind:format="pattern"       - Date/time formatting                  â•‘
   â•‘                                                                          â•‘
   â•‘  ğŸ§ª EXPERIMENT                                                           â•‘
   â•‘  â€¢ Type "test" - how many characters are counted?                        â•‘
   â•‘  â€¢ Remove @bind:after - does character count still work?                 â•‘
   â•‘  â€¢ Change the date format to "MM/dd/yyyy" - what appears?                â•‘
   â•‘  â€¢ What's the difference between @bind and value="@text"?                â•‘
   â•‘                                                                          â•‘
   â•‘  ğŸ’¡ THINK: @bind="text" is syntactic sugar. What TWO things does it      â•‘
   â•‘            expand to? (Hint: a value and an event handler)               â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• *@

<div>
    <input @bind="text" @bind:after="UpdateCharacterCount" />
    <p class="display">@text</p>                    @* âš¡ Watch this update as you type! *@
    <p>Characters: @characterCount</p>
    <input type="datetime-local" @bind="selectedDate" @bind:format="yyyy-MM-ddTHH:mm" />
</div>

@code {
    [Parameter]
    public TimeProvider Time { get; set; } = TimeProvider.System;

    private string text = string.Empty;
    private int characterCount = 0;
    private DateTime selectedDate;

    protected override void OnInitialized()
    {
        selectedDate = Time.GetLocalNow().DateTime;
    }

    private void UpdateCharacterCount()                 // âš¡ Called AFTER text is updated
    {
        characterCount = text.Length;
    }
}
